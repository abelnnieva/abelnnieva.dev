---
import FormattedDate from "../components/FormattedDate.astro";
import FramedLogo from "../components/FramedLogo.astro";
import Icon from "./Icon.astro";
import type { Topic } from "../types";

interface Props {
  slug: string;
  publishDate: Date;
  title: string;
  description: string;
  topic: Topic;
}

const { slug, publishDate, title, description, topic } = Astro.props;
---

<article class="flex gap-4 relative group">
  <div>
    <FramedLogo
      name={topic.name}
      image={topic.logo.image}
      className="relative z-10"
    />
  </div>
  <div>
    <h3 class="text-base font-semibold text-slate-900 dark:text-white mb-2">
      <span
        class="absolute -inset-y-4 -inset-x-4 z-0 scale-95 bg-slate-50 opacity-0 transition group-hover:scale-100 group-hover:opacity-100 dark:bg-slate-800/50 sm:rounded-2xl"
      ></span>
      <a href={`/notes/${slug}`}>
        <span class="absolute -inset-y-4 -inset-x-4 z-20 sm:rounded-2xl"></span>
        <span class="relative z-10">{title}</span>
      </a>
    </h3>
    <FormattedDate
      date={publishDate}
      className="relative z-10 block text-sm text-slate-400 dark:text-slate-500 mb-2"
    />
    <p class="relative z-10 text-sm text-slate-500 dark:text-slate-400">
      {description}
    </p>
    <div
      aria-hidden="true"
      class="relative z-10 mt-4 flex items-center gap-1 text-sm font-medium text-primary-600"
    >
      Read note
      <Icon name="arrow-right" className="size-4" />
    </div>
  </div>
</article>
