---
interface Props {
  date: Date;
  format: keyof typeof dateFormats;
  itemprop?: string | null | undefined;
  class?: string;
}

const { date, format, itemprop, class: className } = Astro.props;

const dateFormats = {
  YYYY: date.toLocaleDateString("en", {
    year: "numeric",
  }),
  "YYYY-MM": date.toLocaleDateString("en", {
    year: "numeric",
    month: "short",
  }),
  "YYYY-MM-DD": date.toLocaleDateString("en", {
    year: "numeric",
    month: "short",
    day: "numeric",
  }),
};
---

<time
  class:list={[className]}
  datetime={dateFormats[format as keyof typeof dateFormats]}
  itemprop={itemprop}
>
  {dateFormats[format as keyof typeof dateFormats]}
</time>
